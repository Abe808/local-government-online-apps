# Modifying the code

## Background information about the code

### Structure

* The app uses [AMD](http://dojotoolkit.org/blog/learn-more-about-amd) modules for maximum compatibility with the ArcGIS API for
JavaScript and with the Dojo Toolkit.
* Virtually all of the JavaScript is stored in files rather than in the launching HTML; this is done to maximize browser caching
and thus speed.
* jsonlineStart.js contains the code to launch the app.
* jsonlineBuildUI.js contains two classes -- LGUIBuilder and LGArcGISAccess -- for building the user interface.
* jsonlineApp.js contains (directly for online or through references in the download) the classes that LGUIBuilder uses in the
user interface.

### Documentation

* All JavaScript is documented using the [JSDoc](https://github.com/jsdoc3/jsdoc) tags so that code documentation may be
automatically generated.

### Validation

* All JavaScript & JSON are run through a validator such as [JSLint](http://www.jslint.com/) as a rough
check for errors. (If you use JSLint, a JavaScript formatter such as [JSBeautifier](http://jsbeautifier.org/) helps
to format your JavaScript because JSLint also contains formatting rules that must be met in additon to code errors.)
The only exception to an error-free lint is the language-specific phrase files in the nls/ subdirectory. They are
computer-generated and can trigger a linter to list column indentation as an "error".

### Compression

* The app is set up so that it can run using either uncompressed or compressed JavaScript, and so that the compressed version
may be generated by automatic tools from the uncompressed version. The uncompressed version is used for the app's download; the
compressed version is used for the ArcGIS.com-hosted app site.
* The desire to use automatic generation of compression is the reason that the first series of the app (s1/apps1/js1) has most
of its classes in the single file lgonlineApp.js. We've since developed the ability to compress multiple files into a single
file, so the second series (s2/apps2/js2) organizes the classes by functional areas. In both series, lgonlineStart.js and
lgonlineBuildUI.js are kept separate to maximize parallel access to the server during app startup.
